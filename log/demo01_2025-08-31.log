2025-08-31 19:13:11.954 [main] INFO  com.reward_project.music.MusicApplication - Starting MusicApplication using Java 24.0.1 with PID 23420 (D:\grad1\project\music\target\classes started by 12943 in D:\grad1\project\music)
2025-08-31 19:13:11.955 [main] INFO  com.reward_project.music.MusicApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 19:13:12.691 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 19:13:12.694 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 19:13:12.724 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-08-31 19:13:13.298 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-31 19:13:13.311 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-31 19:13:13.313 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 19:13:13.313 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-31 19:13:13.371 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 19:13:13.372 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1379 ms
2025-08-31 19:13:14.775 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-31 19:13:14.791 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-31 19:13:14.793 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:14.799 [main] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: getsockopt
2025-08-31 19:13:14.805 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:14.817 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR o.s.a.r.listener.SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: getsockopt
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:632)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:726)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2262)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2235)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2215)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:467)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:451)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1972)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1936)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1481)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:628)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:533)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:282)
	at java.base/java.net.Socket.connect(Socket.java:665)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:61)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1249)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1198)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:678)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:647)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:593)
	... 12 common frames omitted
2025-08-31 19:13:14.820 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:14.821 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:14.822 [main] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: getsockopt
2025-08-31 19:13:14.823 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:14.824 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] ERROR o.s.a.r.listener.SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: getsockopt
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:632)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:726)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2262)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2235)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2215)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:467)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:451)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1972)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1936)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1481)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:628)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:533)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:282)
	at java.base/java.net.Socket.connect(Socket.java:665)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:61)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1249)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1198)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:678)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:647)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:593)
	... 12 common frames omitted
2025-08-31 19:13:14.824 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:14.842 [main] INFO  com.reward_project.music.MusicApplication - Started MusicApplication in 3.283 seconds (process running for 4.17)
2025-08-31 19:13:19.833 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] WARN  o.s.a.r.listener.SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: getsockopt
2025-08-31 19:13:19.838 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Restarting Consumer@22ee7fdc: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-31 19:13:19.840 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:19.848 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] WARN  o.s.a.r.listener.SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: getsockopt
2025-08-31 19:13:19.848 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Restarting Consumer@3cfab340: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-08-31 19:13:19.852 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR o.s.a.r.listener.SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
2025-08-31 19:13:19.852 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:19.873 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:19.873 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] ERROR o.s.a.r.listener.SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
2025-08-31 19:13:19.883 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:13:22.569 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 19:13:22.569 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 19:13:22.570 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 19:13:22.570 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 19:13:22.571 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 19:13:22.596 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 19:14:03.205 [main] INFO  com.reward_project.music.MusicApplication - Starting MusicApplication using Java 24.0.1 with PID 26200 (D:\grad1\project\music\target\classes started by 12943 in D:\grad1\project\music)
2025-08-31 19:14:03.207 [main] INFO  com.reward_project.music.MusicApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 19:14:03.789 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 19:14:03.791 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 19:14:03.814 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-31 19:14:04.260 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-31 19:14:04.270 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-31 19:14:04.270 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 19:14:04.271 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-31 19:14:04.326 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 19:14:04.326 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1078 ms
2025-08-31 19:14:05.381 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-31 19:14:05.396 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-31 19:14:05.398 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:14:05.449 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#517fbf62:0/SimpleConnection@2c2e5e72 [delegate=amqp://guest@127.0.0.1:5672/, localPort=58677]
2025-08-31 19:14:05.454 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REGISTER_SUCCESS_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 19:14:05.454 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (MUSIC_RECOMMEND_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 19:14:05.516 [main] INFO  com.reward_project.music.MusicApplication - Started MusicApplication in 2.605 seconds (process running for 3.322)
2025-08-31 19:19:59.399 [main] INFO  o.s.t.c.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.reward_project.play_record.util.RuleMatchUtilTest]: RuleMatchUtilTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-31 19:19:59.564 [main] INFO  o.s.b.t.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.reward_project.play_record.PlayRecordApplication for test class com.reward_project.play_record.util.RuleMatchUtilTest
2025-08-31 19:20:00.016 [main] INFO  c.r.play_record.util.RuleMatchUtilTest - Starting RuleMatchUtilTest using Java 24.0.1 with PID 10976 (started by 12943 in D:\grad1\project\play_record)
2025-08-31 19:20:00.017 [main] INFO  c.r.play_record.util.RuleMatchUtilTest - No active profile set, falling back to 1 default profile: "default"
2025-08-31 19:20:00.843 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 19:20:00.846 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 19:20:00.878 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-31 19:20:03.388 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:20:03.435 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4d25f816:0/SimpleConnection@4f9213d2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=58774]
2025-08-31 19:20:03.440 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 19:20:03.504 [main] INFO  c.r.play_record.util.RuleMatchUtilTest - Started RuleMatchUtilTest in 3.73 seconds (process running for 5.579)
2025-08-31 19:20:04.219 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 19:20:04.493 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 19:20:18.948 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 20024 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 19:20:18.950 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 19:20:19.528 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 19:20:19.530 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 19:20:19.553 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-31 19:20:20.063 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 19:20:20.079 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 19:20:20.080 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 19:20:20.080 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 19:20:20.186 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 19:20:20.186 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1193 ms
2025-08-31 19:20:21.193 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 19:20:21.216 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 19:20:21.218 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:20:21.250 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#33bdd01:0/SimpleConnection@990b86b [delegate=amqp://guest@127.0.0.1:5672/, localPort=58790]
2025-08-31 19:20:21.255 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 19:20:21.300 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.651 seconds (process running for 3.375)
2025-08-31 19:33:29.624 [http-nio-8080-exec-5] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 19:33:29.625 [http-nio-8080-exec-5] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 19:33:29.626 [http-nio-8080-exec-5] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 19:33:29.679 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 19:33:30.008 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f7ca983
2025-08-31 19:33:30.011 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 19:33:30.234 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 19:33:30.234 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 19:33:30.237 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-31 19:36:01.729 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 19:36:01.731 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 19:36:01.865 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 19:36:01.931 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 19:36:01.933 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 19:36:01.954 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 19:36:02.076 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 19:36:02.085 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 19:37:19.650 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 19:37:20.550 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 19:37:20.551 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 19:37:20.571 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 19:48:38.967 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 18428 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 19:48:38.969 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 19:48:39.557 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 19:48:39.558 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 19:48:39.582 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-31 19:48:40.020 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 19:48:40.033 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 19:48:40.034 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 19:48:40.034 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 19:48:40.094 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 19:48:40.095 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1084 ms
2025-08-31 19:48:41.134 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 19:48:41.156 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 19:48:41.159 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:48:41.191 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#384472bf:0/SimpleConnection@c6bf8d9 [delegate=amqp://guest@127.0.0.1:5672/, localPort=50782]
2025-08-31 19:48:41.196 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 19:48:41.241 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.608 seconds (process running for 3.354)
2025-08-31 19:48:51.782 [http-nio-8081-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 19:48:51.783 [http-nio-8081-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 19:48:51.783 [http-nio-8081-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-31 19:50:08.479 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 19:50:08.755 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@60c8a61c
2025-08-31 19:50:08.756 [http-nio-8081-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 19:50:08.804 [http-nio-8081-exec-5] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 19:50:08.849 [http-nio-8081-exec-5] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 19:52:48.627 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 19:52:49.087 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 19:52:49.088 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 19:52:49.111 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 19:52:49.128 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 19:52:49.133 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 19:53:27.983 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 18132 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 19:53:27.984 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 19:53:28.557 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 19:53:28.559 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 19:53:28.585 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-31 19:53:29.048 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 19:53:29.058 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 19:53:29.060 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 19:53:29.060 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 19:53:29.112 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 19:53:29.113 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1089 ms
2025-08-31 19:53:30.086 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 19:53:30.101 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 19:53:30.103 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:53:30.136 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2e4eda17:0/SimpleConnection@105c6c9e [delegate=amqp://guest@127.0.0.1:5672/, localPort=50868]
2025-08-31 19:53:30.141 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 19:53:30.189 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.507 seconds (process running for 3.209)
2025-08-31 19:54:06.755 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 19:54:06.755 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 19:54:06.756 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 19:54:48.836 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 19:54:49.214 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20c7bcfa
2025-08-31 19:54:49.216 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 19:54:49.280 [http-nio-8081-exec-4] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 19:54:49.340 [http-nio-8081-exec-4] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 19:55:32.971 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 19:55:33.495 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 19:55:33.496 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 19:55:33.520 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 19:55:33.537 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 19:55:33.543 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 19:55:37.083 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 30604 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 19:55:37.084 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 19:55:37.745 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 19:55:37.747 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 19:55:37.772 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-31 19:55:38.268 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 19:55:38.280 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 19:55:38.283 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 19:55:38.283 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 19:55:38.342 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 19:55:38.342 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1213 ms
2025-08-31 19:55:39.529 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 19:55:39.546 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 19:55:39.549 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 19:55:39.586 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#f9b8129:0/SimpleConnection@1736273c [delegate=amqp://guest@127.0.0.1:5672/, localPort=62822]
2025-08-31 19:55:39.592 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 19:55:39.641 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.888 seconds (process running for 4.038)
2025-08-31 19:56:08.958 [http-nio-8081-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 19:56:08.959 [http-nio-8081-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 19:56:08.960 [http-nio-8081-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 19:56:19.802 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 19:56:23.246 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5539b58d
2025-08-31 19:56:23.251 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 19:57:04.054 [http-nio-8081-exec-2] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 19:57:22.346 [http-nio-8081-exec-2] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 19:58:00.497 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=56s448ms699µs800ns).
2025-08-31 20:00:28.398 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m27s900ms732µs700ns).
2025-08-31 20:00:28.610 [http-nio-8081-exec-2] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:00:28.697 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 20:00:29.397 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 20:00:29.399 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 20:00:32.973 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 41812 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 20:00:32.974 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 20:00:33.638 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 20:00:33.640 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 20:00:33.671 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-31 20:00:34.240 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 20:00:34.254 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 20:00:34.256 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 20:00:34.256 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 20:00:34.317 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 20:00:34.317 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1293 ms
2025-08-31 20:00:35.521 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 20:00:35.540 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 20:00:35.544 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:00:35.586 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#22686ddb:0/SimpleConnection@1b5f960a [delegate=amqp://guest@127.0.0.1:5672/, localPort=62100]
2025-08-31 20:00:35.591 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:00:35.658 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 3.024 seconds (process running for 4.158)
2025-08-31 20:00:36.373 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 20:00:36.373 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 20:00:36.374 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 20:00:42.200 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 20:00:45.553 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bf41897
2025-08-31 20:00:45.558 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 20:01:31.151 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m15s592ms865µs700ns).
2025-08-31 20:05:03.275 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m32s124ms790µs900ns).
2025-08-31 20:05:35.489 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] WARN  o.s.a.r.listener.SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it
com.rabbitmq.client.ShutdownSignalException: connection error
	at com.rabbitmq.client.impl.AMQConnection.startShutdown(AMQConnection.java:1007)
	at com.rabbitmq.client.impl.AMQConnection.shutdown(AMQConnection.java:997)
	at com.rabbitmq.client.impl.AMQConnection.handleFailure(AMQConnection.java:797)
	at com.rabbitmq.client.impl.AMQConnection.access$500(AMQConnection.java:48)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:696)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: java.io.EOFException: null
	at java.base/java.io.DataInputStream.readUnsignedByte(DataInputStream.java:302)
	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:91)
	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:199)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:687)
	... 1 common frames omitted
2025-08-31 20:05:57.335 [http-nio-8081-exec-1] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:06:16.361 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Restarting Consumer@228958a: tags=[[amq.ctag-MUVORCoiQw5fjtmSZUGeiQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://guest@127.0.0.1:5672/,1), conn: Proxy@1e9d721 Shared Rabbit Connection: SimpleConnection@1b5f960a [delegate=amqp://guest@127.0.0.1:5672/, localPort=62100], acknowledgeMode=AUTO local queue size=0
2025-08-31 20:06:16.363 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:06:16.372 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#22686ddb:1/SimpleConnection@634cf19c [delegate=amqp://guest@127.0.0.1:5672/, localPort=58659]
2025-08-31 20:06:16.372 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:06:16.631 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 20:06:17.387 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 20:06:17.389 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 20:09:47.590 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 38996 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 20:09:47.592 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 20:09:48.181 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 20:09:48.182 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 20:09:48.208 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-31 20:09:48.638 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 20:09:48.648 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 20:09:48.649 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 20:09:48.650 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 20:09:48.704 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 20:09:48.704 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1067 ms
2025-08-31 20:09:49.729 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 20:09:49.745 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 20:09:49.747 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:09:49.779 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2e4eda17:0/SimpleConnection@105c6c9e [delegate=amqp://guest@127.0.0.1:5672/, localPort=58770]
2025-08-31 20:09:49.784 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:09:49.834 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.541 seconds (process running for 3.265)
2025-08-31 20:09:57.799 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 20:09:57.799 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 20:09:57.800 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 20:12:12.053 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 20:12:12.362 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a7f152e
2025-08-31 20:12:12.363 [http-nio-8081-exec-4] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 20:12:12.431 [http-nio-8081-exec-4] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:12:12.867 [http-nio-8081-exec-4] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:12:12.906 [http-nio-8081-exec-4] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:12:17.395 [http-nio-8081-exec-8] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:12:17.398 [http-nio-8081-exec-8] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:12:17.399 [http-nio-8081-exec-8] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:12:18.317 [http-nio-8081-exec-6] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:12:18.320 [http-nio-8081-exec-6] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:12:18.321 [http-nio-8081-exec-6] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:27:38.410 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 20:27:38.943 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 20:27:38.945 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 20:27:38.965 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 20:27:38.986 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 20:27:38.991 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 20:27:43.468 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 8084 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 20:27:43.470 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 20:27:44.081 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 20:27:44.082 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 20:27:44.105 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-08-31 20:27:44.598 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 20:27:44.608 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 20:27:44.610 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 20:27:44.610 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 20:27:44.668 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 20:27:44.668 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1147 ms
2025-08-31 20:27:45.741 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 20:27:45.756 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 20:27:45.758 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:27:45.794 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#283a8ad6:0/SimpleConnection@705d914f [delegate=amqp://guest@127.0.0.1:5672/, localPort=55123]
2025-08-31 20:27:45.799 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:27:45.853 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.708 seconds (process running for 3.492)
2025-08-31 20:28:06.280 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 20:28:06.280 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 20:28:06.281 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 20:28:24.658 [http-nio-8081-exec-8] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 20:28:24.897 [http-nio-8081-exec-8] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c3edfdd
2025-08-31 20:28:24.899 [http-nio-8081-exec-8] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 20:28:25.016 [http-nio-8081-exec-8] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:28:25.074 [http-nio-8081-exec-8] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:29:23.984 [http-nio-8081-exec-5] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:29:24.379 [http-nio-8081-exec-5] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:29:24.382 [http-nio-8081-exec-5] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:29:46.867 [http-nio-8081-exec-6] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:29:46.873 [http-nio-8081-exec-6] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:29:46.875 [http-nio-8081-exec-6] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:33:00.273 [http-nio-8081-exec-3] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:33:00.276 [http-nio-8081-exec-3] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:33:00.278 [http-nio-8081-exec-3] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为30，未达到最低发奖门槛
2025-08-31 20:37:49.745 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 20:37:49.780 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 20:37:49.781 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 20:37:49.802 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 20:37:49.821 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 20:37:49.826 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 20:37:52.423 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 41944 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 20:37:52.424 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 20:37:53.026 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 20:37:53.029 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 20:37:53.052 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-08-31 20:37:53.556 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 20:37:53.569 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 20:37:53.569 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 20:37:53.570 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 20:37:53.625 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 20:37:53.625 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1164 ms
2025-08-31 20:37:54.731 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 20:37:54.750 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 20:37:54.752 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:37:54.792 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#f9b8129:0/SimpleConnection@1736273c [delegate=amqp://guest@127.0.0.1:5672/, localPort=58360]
2025-08-31 20:37:54.798 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:37:54.857 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.744 seconds (process running for 3.809)
2025-08-31 20:38:15.797 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 20:38:15.797 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 20:38:15.798 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 20:38:30.019 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 20:38:33.371 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@73909013
2025-08-31 20:38:33.376 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 20:39:35.951 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s97ms455µs900ns).
2025-08-31 20:39:35.965 [http-nio-8081-exec-1] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户5在2025-08-31第一次插入总时长
2025-08-31 20:39:36.184 [http-nio-8081-exec-1] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户5当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:39:36.228 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 20:39:36.952 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 20:39:36.953 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 20:39:36.982 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 20:39:37.002 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 20:39:37.007 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 20:40:45.298 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 18584 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 20:40:45.300 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 20:40:45.958 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 20:40:45.961 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 20:40:45.986 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-31 20:40:46.525 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 20:40:46.538 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 20:40:46.540 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 20:40:46.540 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 20:40:46.596 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 20:40:46.597 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1258 ms
2025-08-31 20:40:47.759 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 20:40:47.779 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 20:40:47.783 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:40:47.824 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#22686ddb:0/SimpleConnection@1b5f960a [delegate=amqp://guest@127.0.0.1:5672/, localPort=58492]
2025-08-31 20:40:47.830 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:40:47.886 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.925 seconds (process running for 3.945)
2025-08-31 20:40:48.086 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 20:40:48.087 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 20:40:48.088 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 20:41:07.006 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 20:41:10.422 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f7a58ba
2025-08-31 20:41:10.427 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 20:45:26.271 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m15s741ms297µs800ns).
2025-08-31 20:45:26.292 [http-nio-8081-exec-1] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户5在2025-08-31第一次插入总时长
2025-08-31 20:45:26.532 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 20:45:26.532 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 20:45:26.533 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 20:45:27.103 [http-nio-8081-exec-1] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户5在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:45:27.271 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] WARN  o.s.a.r.listener.SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it
com.rabbitmq.client.ShutdownSignalException: connection error
	at com.rabbitmq.client.impl.AMQConnection.startShutdown(AMQConnection.java:1007)
	at com.rabbitmq.client.impl.AMQConnection.shutdown(AMQConnection.java:997)
	at com.rabbitmq.client.impl.AMQConnection.handleFailure(AMQConnection.java:797)
	at com.rabbitmq.client.impl.AMQConnection.access$500(AMQConnection.java:48)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:696)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: java.io.EOFException: null
	at java.base/java.io.DataInputStream.readUnsignedByte(DataInputStream.java:302)
	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:91)
	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:199)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:687)
	... 1 common frames omitted
2025-08-31 20:45:27.332 [http-nio-8081-exec-1] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户5当前播放总时长为0，未达到最低发奖门槛
2025-08-31 20:45:27.374 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 20:45:27.397 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 20:45:27.405 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 20:45:43.631 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 40828 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 20:45:43.633 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 20:45:44.238 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 20:45:44.240 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 20:45:44.264 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-08-31 20:45:44.689 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 20:45:44.701 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 20:45:44.702 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 20:45:44.702 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 20:45:44.757 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 20:45:44.758 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1080 ms
2025-08-31 20:45:45.783 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 20:45:45.798 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 20:45:45.800 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:45:45.832 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2e4eda17:0/SimpleConnection@6f6f65a4 [delegate=amqp://guest@127.0.0.1:5672/, localPort=56768]
2025-08-31 20:45:45.837 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:45:45.882 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.535 seconds (process running for 3.263)
2025-08-31 20:45:48.608 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 20:45:48.608 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 20:45:48.609 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 20:45:48.693 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 20:45:48.936 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67c0b7f
2025-08-31 20:45:48.937 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 20:45:49.010 [http-nio-8081-exec-1] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户5在2025-08-31第一次插入总时长
2025-08-31 20:45:49.056 [http-nio-8081-exec-1] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户5当前播放总时长为30，未达到最低发奖门槛
2025-08-31 20:47:36.933 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 20:47:36.975 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 20:47:36.976 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 20:47:36.995 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 20:47:37.023 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 20:47:37.028 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 20:47:39.039 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 3756 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 20:47:39.040 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 20:47:39.690 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 20:47:39.693 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 20:47:39.721 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-31 20:47:40.296 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 20:47:40.309 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 20:47:40.310 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 20:47:40.311 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 20:47:40.370 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 20:47:40.370 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1280 ms
2025-08-31 20:47:41.589 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 20:47:41.626 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 20:47:41.628 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:47:41.674 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2e29f28e:0/SimpleConnection@1b5f960a [delegate=amqp://guest@127.0.0.1:5672/, localPort=49698]
2025-08-31 20:47:41.680 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:47:41.740 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 3.035 seconds (process running for 4.083)
2025-08-31 20:47:43.291 [http-nio-8081-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 20:47:43.291 [http-nio-8081-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 20:47:43.292 [http-nio-8081-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 20:48:02.733 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 20:48:06.066 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6df9297d
2025-08-31 20:48:06.072 [http-nio-8081-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 20:51:12.599 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m6s426ms774µs300ns).
2025-08-31 20:58:28.347 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m15s748ms149µs300ns).
2025-08-31 20:58:28.352 [http-nio-8081-exec-2] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:58:28.347 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] WARN  o.s.a.r.listener.SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it
com.rabbitmq.client.ShutdownSignalException: connection error
	at com.rabbitmq.client.impl.AMQConnection.startShutdown(AMQConnection.java:1007)
	at com.rabbitmq.client.impl.AMQConnection.shutdown(AMQConnection.java:997)
	at com.rabbitmq.client.impl.AMQConnection.handleFailure(AMQConnection.java:797)
	at com.rabbitmq.client.impl.AMQConnection.access$500(AMQConnection.java:48)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:696)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: java.io.EOFException: null
	at java.base/java.io.DataInputStream.readUnsignedByte(DataInputStream.java:302)
	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:91)
	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:199)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:687)
	... 1 common frames omitted
2025-08-31 20:58:28.358 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Restarting Consumer@228958a: tags=[[amq.ctag-95zB-gBGSlvZ08-LbC6Nbw]], channel=Cached Rabbit Channel: AMQChannel(amqp://guest@127.0.0.1:5672/,1), conn: Proxy@1e9d721 Shared Rabbit Connection: SimpleConnection@1b5f960a [delegate=amqp://guest@127.0.0.1:5672/, localPort=49698], acknowledgeMode=AUTO local queue size=0
2025-08-31 20:58:28.360 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:58:28.371 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2e29f28e:1/SimpleConnection@2cc7f864 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49816]
2025-08-31 20:58:28.371 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:58:28.545 [http-nio-8081-exec-2] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为30，未达到最低发奖门槛
2025-08-31 20:58:28.619 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 20:58:29.383 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 20:58:29.385 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 20:58:29.404 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 20:58:29.424 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 20:58:29.430 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 20:58:34.903 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 27868 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 20:58:34.904 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 20:58:35.563 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 20:58:35.565 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 20:58:35.591 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-08-31 20:58:36.050 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 20:58:36.062 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 20:58:36.063 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 20:58:36.064 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 20:58:36.119 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 20:58:36.119 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1175 ms
2025-08-31 20:58:37.106 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 20:58:37.122 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 20:58:37.125 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 20:58:37.160 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4662752a:0/SimpleConnection@40a7974 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49832]
2025-08-31 20:58:37.165 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 20:58:37.222 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.644 seconds (process running for 3.457)
2025-08-31 20:58:40.497 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 20:58:40.497 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 20:58:40.499 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-31 20:58:40.578 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 20:58:40.812 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3250523c
2025-08-31 20:58:40.814 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 20:58:40.872 [http-nio-8081-exec-1] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:58:41.262 [http-nio-8081-exec-1] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:58:41.299 [http-nio-8081-exec-1] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为30，未达到最低发奖门槛
2025-08-31 20:59:20.577 [http-nio-8081-exec-2] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 20:59:20.584 [http-nio-8081-exec-2] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 20:59:20.586 [http-nio-8081-exec-2] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为60，未达到最低发奖门槛
2025-08-31 21:05:26.772 [http-nio-8081-exec-4] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 21:05:26.776 [http-nio-8081-exec-4] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 21:05:26.779 [http-nio-8081-exec-4] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为90，未达到最低发奖门槛
2025-08-31 21:15:19.435 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 21:15:19.820 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 21:15:19.822 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 21:15:19.841 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 21:15:19.859 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 21:15:19.864 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 21:15:24.043 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 35332 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 21:15:24.045 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 21:15:24.656 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 21:15:24.658 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 21:15:24.678 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-08-31 21:15:25.114 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 21:15:25.124 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 21:15:25.126 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 21:15:25.126 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 21:15:25.184 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 21:15:25.185 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1083 ms
2025-08-31 21:15:26.210 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 21:15:26.225 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 21:15:26.228 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 21:15:26.269 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#559d19c:0/SimpleConnection@705d914f [delegate=amqp://guest@127.0.0.1:5672/, localPort=56677]
2025-08-31 21:15:26.273 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 21:15:26.317 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.594 seconds (process running for 3.396)
2025-08-31 21:15:36.839 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 21:15:36.839 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 21:15:36.841 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-31 21:15:36.969 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 21:15:37.386 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f0a20e6
2025-08-31 21:15:37.388 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 21:15:37.468 [http-nio-8081-exec-1] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 21:15:37.528 [http-nio-8081-exec-1] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为30，未达到最低发奖门槛
2025-08-31 21:15:39.052 [http-nio-8081-exec-2] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为60，未达到最低发奖门槛
2025-08-31 21:16:25.322 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 21:16:25.443 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 21:16:25.444 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 21:16:25.470 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 21:16:25.490 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 21:16:25.495 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 21:16:29.145 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 19492 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 21:16:29.146 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 21:16:29.738 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 21:16:29.740 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 21:16:29.761 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-08-31 21:16:30.202 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 21:16:30.213 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 21:16:30.214 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 21:16:30.214 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 21:16:30.266 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 21:16:30.266 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1072 ms
2025-08-31 21:16:31.275 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 21:16:31.290 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 21:16:31.292 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 21:16:31.327 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2e4eda17:0/SimpleConnection@3dea1ecc [delegate=amqp://guest@127.0.0.1:5672/, localPort=56715]
2025-08-31 21:16:31.332 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 21:16:31.378 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.561 seconds (process running for 3.292)
2025-08-31 21:16:35.224 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 21:16:35.224 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 21:16:35.225 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 21:16:35.339 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 21:16:35.592 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3250523c
2025-08-31 21:16:35.594 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 21:16:35.705 [http-nio-8081-exec-1] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为90，未达到最低发奖门槛
2025-08-31 21:17:12.483 [http-nio-8081-exec-2] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为120，未达到最低发奖门槛
2025-08-31 21:17:13.675 [http-nio-8081-exec-3] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为150，未达到最低发奖门槛
2025-08-31 21:17:14.774 [http-nio-8081-exec-4] ERROR c.r.play_record.service.impl.SyncServiceImpl - 调用下游发奖失败，外部业务号为musicPlay_9_2025-08-31_credit_1，失败原因为type为credit, subType为null的奖励不存在
2025-08-31 21:17:14.818 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.r.p.service.consumer.RewardRetryConsumer - 正在进行重试，外部业务号为musicPlay_9_2025-08-31_credit_1
2025-08-31 21:17:14.846 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.r.play_record.service.impl.SyncServiceImpl - 调用下游发奖失败，外部业务号为musicPlay_9_2025-08-31_credit_1，失败原因为type为credit, subType为null的奖励不存在
2025-08-31 21:17:16.392 [http-nio-8081-exec-5] ERROR c.r.play_record.service.impl.SyncServiceImpl - 调用下游发奖失败，外部业务号为musicPlay_9_2025-08-31_credit_1，失败原因为type为credit, subType为null的奖励不存在
2025-08-31 21:17:16.862 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.r.p.service.consumer.RewardRetryConsumer - 正在进行重试，外部业务号为musicPlay_9_2025-08-31_credit_1
2025-08-31 21:17:16.887 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.r.play_record.service.impl.SyncServiceImpl - 调用下游发奖失败，外部业务号为musicPlay_9_2025-08-31_credit_1，失败原因为type为credit, subType为null的奖励不存在
2025-08-31 21:17:18.890 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.r.p.service.consumer.RewardRetryConsumer - 正在进行重试，外部业务号为musicPlay_9_2025-08-31_credit_1
2025-08-31 21:17:18.914 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.r.play_record.service.impl.SyncServiceImpl - 调用下游发奖失败，外部业务号为musicPlay_9_2025-08-31_credit_1，失败原因为type为credit, subType为null的奖励不存在
2025-08-31 21:17:18.916 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.r.p.service.consumer.RewardRetryConsumer - 外部业务号为musicPlay_9_2025-08-31_credit_1的发奖已重试三次，依旧失败
2025-08-31 21:17:18.928 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.r.p.service.consumer.RewardRetryConsumer - 正在进行重试，外部业务号为musicPlay_9_2025-08-31_credit_1
2025-08-31 21:17:18.944 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.r.play_record.service.impl.SyncServiceImpl - 调用下游发奖失败，外部业务号为musicPlay_9_2025-08-31_credit_1，失败原因为type为credit, subType为null的奖励不存在
2025-08-31 21:17:20.949 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.r.p.service.consumer.RewardRetryConsumer - 正在进行重试，外部业务号为musicPlay_9_2025-08-31_credit_1
2025-08-31 21:17:20.974 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.r.play_record.service.impl.SyncServiceImpl - 调用下游发奖失败，外部业务号为musicPlay_9_2025-08-31_credit_1，失败原因为type为credit, subType为null的奖励不存在
2025-08-31 21:17:22.990 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.r.p.service.consumer.RewardRetryConsumer - 正在进行重试，外部业务号为musicPlay_9_2025-08-31_credit_1
2025-08-31 21:17:23.019 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.r.play_record.service.impl.SyncServiceImpl - 调用下游发奖失败，外部业务号为musicPlay_9_2025-08-31_credit_1，失败原因为type为credit, subType为null的奖励不存在
2025-08-31 21:17:23.021 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.r.p.service.consumer.RewardRetryConsumer - 外部业务号为musicPlay_9_2025-08-31_credit_1的发奖已重试三次，依旧失败
2025-08-31 21:40:47.979 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 21:40:48.216 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 21:40:48.217 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 21:40:48.238 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 21:40:48.259 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 21:40:48.262 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 21:41:10.479 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 34832 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 21:41:10.481 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 21:41:11.099 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 21:41:11.101 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 21:41:11.125 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-31 21:41:11.565 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 21:41:11.579 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 21:41:11.581 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 21:41:11.581 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 21:41:11.636 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 21:41:11.637 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1110 ms
2025-08-31 21:41:12.605 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 21:41:12.620 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 21:41:12.625 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 21:41:12.661 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3a588b5f:0/SimpleConnection@3b576ee3 [delegate=amqp://guest@127.0.0.1:5672/, localPort=58164]
2025-08-31 21:41:12.666 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 21:41:12.716 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.55 seconds (process running for 3.313)
2025-08-31 21:41:16.477 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 21:41:16.477 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 21:41:16.478 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-31 21:41:16.567 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 21:41:16.813 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c86cd05
2025-08-31 21:41:16.814 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 21:51:22.154 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m35s195ms240µs).
2025-08-31 22:08:14.395 [http-nio-8081-exec-3] ERROR c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为270，本阶段已发奖，外部业务号为musicPlay_9_2025-08-31_credit_credit01_1
2025-08-31 22:08:15.643 [http-nio-8081-exec-4] ERROR c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为300，本阶段已发奖，外部业务号为musicPlay_9_2025-08-31_credit_credit01_1
2025-08-31 22:08:18.985 [http-nio-8081-exec-6] ERROR c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为360，本阶段已发奖，外部业务号为musicPlay_9_2025-08-31_credit_credit01_2
2025-08-31 22:10:29.584 [http-nio-8081-exec-8] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 22:10:29.591 [http-nio-8081-exec-8] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为30，未达到最低发奖门槛
2025-08-31 22:10:30.815 [http-nio-8081-exec-9] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为60，未达到最低发奖门槛
2025-08-31 22:10:32.001 [http-nio-8081-exec-10] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为90，未达到最低发奖门槛
2025-08-31 22:10:34.024 [http-nio-8081-exec-1] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为120，未达到最低发奖门槛
2025-08-31 22:10:35.064 [http-nio-8081-exec-2] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为150，未达到最低发奖门槛
2025-08-31 22:11:48.312 [http-nio-8081-exec-4] ERROR c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为210，本阶段已发奖，外部业务号为musicPlay_9_2025-08-31_credit_credit01_1
2025-08-31 22:11:49.356 [http-nio-8081-exec-5] ERROR c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为240，本阶段已发奖，外部业务号为musicPlay_9_2025-08-31_credit_credit01_1
2025-08-31 22:11:50.482 [http-nio-8081-exec-6] ERROR c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为270，本阶段已发奖，外部业务号为musicPlay_9_2025-08-31_credit_credit01_1
2025-08-31 22:11:51.486 [http-nio-8081-exec-7] ERROR c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为300，本阶段已发奖，外部业务号为musicPlay_9_2025-08-31_credit_credit01_1
2025-08-31 22:28:23.466 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 22:28:23.654 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 22:28:23.655 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 22:28:24.133 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 22:28:24.195 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 22:28:24.210 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-31 23:16:11.302 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Starting PlayRecordApplication using Java 24.0.1 with PID 42560 (D:\grad1\project\play_record\target\classes started by 12943 in D:\grad1\project\play_record)
2025-08-31 23:16:11.303 [main] INFO  c.reward_project.play_record.PlayRecordApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-31 23:16:11.896 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-31 23:16:11.897 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-31 23:16:11.920 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-08-31 23:16:12.368 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-31 23:16:12.379 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-08-31 23:16:12.380 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-31 23:16:12.380 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-08-31 23:16:12.441 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-31 23:16:12.443 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1096 ms
2025-08-31 23:16:13.481 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-08-31 23:16:13.497 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-08-31 23:16:13.500 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-08-31 23:16:13.539 [main] INFO  o.s.a.rabbit.connection.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#20b54cfe:0/SimpleConnection@6595ffce [delegate=amqp://guest@127.0.0.1:5672/, localPort=56691]
2025-08-31 23:16:13.544 [main] INFO  org.springframework.amqp.rabbit.core.RabbitAdmin - Auto-declaring a non-durable, auto-delete, or exclusive Queue (REWARD_RETRY_QUEUE) durable:false, auto-delete:false, exclusive:false. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-08-31 23:16:13.595 [main] INFO  c.reward_project.play_record.PlayRecordApplication - Started PlayRecordApplication in 2.598 seconds (process running for 3.371)
2025-08-31 23:22:31.283 [http-nio-8081-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-31 23:22:31.283 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-31 23:22:31.284 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-31 23:22:31.384 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-31 23:22:31.667 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c2920bf
2025-08-31 23:22:31.668 [http-nio-8081-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-31 23:22:31.712 [http-nio-8081-exec-1] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 23:22:32.165 [http-nio-8081-exec-1] ERROR c.r.p.service.impl.PlayRecordSummaryServiceImpl - 用户9在2025-08-31的播放总记录已存在，无需重复插入
2025-08-31 23:22:32.214 [http-nio-8081-exec-1] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为30，未达到最低发奖门槛
2025-08-31 23:32:09.415 [http-nio-8081-exec-3] INFO  c.r.play_record.service.impl.SyncServiceImpl - 用户9在2025-08-31第一次插入总时长
2025-08-31 23:32:09.424 [http-nio-8081-exec-3] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为60，未达到最低发奖门槛
2025-08-31 23:32:19.901 [http-nio-8081-exec-4] WARN  c.r.play_record.service.impl.SyncServiceImpl - 用户9当前播放总时长为90，未达到最低发奖门槛
2025-08-31 23:32:39.092 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-08-31 23:32:39.334 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  o.s.a.r.listener.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-08-31 23:32:39.335 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-31 23:32:39.376 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-31 23:32:39.407 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-31 23:32:39.417 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
